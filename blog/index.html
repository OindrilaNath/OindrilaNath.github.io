<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is Pankaj Kumar's personal website.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Pankaj Kumar</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="https://pankajkarman.github.io/blog/">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="https://pankajkarman.github.io/">

            <span id="blog-title">Pankaj Kumar</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../index.html" class="nav-link">Home</a>
                </li>
<li class="nav-item">
<a href="../cv/index.html" class="nav-link">CV</a>
                </li>
<li class="nav-item">
<a href="../research/index.html" class="nav-link">Research</a>
                </li>
<li class="nav-item">
<a href="../projects/index.html" class="nav-link">Projects</a>
                </li>
<li class="nav-item">
<a href="../news/index.html" class="nav-link">News</a>
                </li>
<li class="nav-item">
<a href="../archive.html" class="nav-link">Blog</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="covid/" class="u-url">Coronavirus: A comprehensive review of mode of transmission </a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Pankaj Kumar
            </span></p>
            <p class="dateline">
            <a href="covid/" rel="bookmark">
            <time class="published dt-published" datetime="2020-07-12T06:46:34+05:30" itemprop="datePublished" title="2020-07-12">2020-07-12</time></a>
            </p>
                <p class="commentline">
        
    <a href="covid/#disqus_thread" data-disqus-identifier="cache/posts/covid.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><img src="../images/covid.jpeg" align="center" width="600" hspace="250" vspace="0"></p>
<p><strong>Track the daily and cumulative coronavirus updates for India using <a href="https://www.covid19india.org/">this link</a> and the districtwise status for Bihar using <a href="https://www.covid19india.org/state/BR">this link</a>.</strong></p>
<p>Given the severity of the disease and healthcare facilities in our country, <a href="https://www.wired.com/story/to-beat-covid-19-you-have-to-know-how-a-virus-moves/?fbclid=IwAR1IX3J2iWA_2zNL_ZrRjFg3vtHEBO1JW-UGlKm1_dPHwm8uafcJYdNDCsk">it is very important and imperative to understand the causes of the infection and ways to avoid it</a>. While it is a novel disease and there is still a lot of research going on, there is a more or less a consensus amongs scientists about the mode of transmission of the virus. It was thought to be spreading through droplets in the beginning but now a lot of evidences are coming in the public domain regarding the possible aerosol transmission mode. Here in this blog, I'll be discussing about a few papers which have convincingly demonstarted the dominance of aerosol transmission for the spread of the virus. At the end, I'll discus about the scientific reasoning about the steps being recommended to avoid contracting the virus and the role of ventilation in avoiding the spread of the virus. </p>
<h2>Symptoms</h2>
<p><a href="https://reader.elsevier.com/reader/sd/pii/S0195670120302590?token=73EE9C07DD326FE2DE5CE1B6871673C690D1CA0E8FE0DF4226322A7BE6D8981C794CA5CC351B2395AFEE69739019B906">The most common symptoms are fever, fatigue, muscle pain, and dry cough</a>. Some patients may exhibit nasal congestion, chills, sore throat or diarrhoea.</p>
<ol>
<li>
<p>Fever (74% covid +ve vs 22% covid -ve)</p>
</li>
<li>
<p>Cough</p>
</li>
<li>
<p><a href="https://www.health.com/condition/infectious-diseases/coronavirus/what-does-shortness-of-breath-feel-like">Dyspnea (shortness of breath)</a></p>
</li>
<li>
<p><a href="https://www.healthline.com/health/sore-throat#symptoms">Sore throat</a></p>
</li>
<li>
<p><a href="https://edition.cnn.com/2020/04/03/health/smell-taste-test-coronavirus-wellness/index.html">Loss of taste or smell</a></p>
</li>
</ol>
<p>In the aforementioned study, Approximately 17% covid +ve did not report fever, cough, shortness of breath, or sore throat. Among them, <a href="https://www.healthline.com/health/chills">chills</a>, <a href="https://www.verywellhealth.com/myalgia-overview-4584594">muscle pain or myalgia</a>, <a href="https://en.wikipedia.org/wiki/Rhinitis">stuffy nose or coryza</a>, and <a href="https://www.healthline.com/health/malaise">malaise</a> were the most common symptoms. Symptoms are mild in about 80%, moderate to severe in 15% and critical in 5% of cases. </p>
<p><a href="https://www.youtube.com/watch?v=7zzfdYShvQU&amp;feature=youtu.be">
<center>
<img src="https://img.youtube.com/vi/7zzfdYShvQU/0.jpg" width='650"' height="400">
</center>
</a></p>
<h2>Modes of transmission</h2>
<p>Although data on factors related to this transmission are scarce, the spread of SARS-CoV-2 is thought to be mostly via the transmission of respiratory droplets coming from infected individuals and fomite transmission (transmission via infected surfaces). </p>
<p><img alt="" src="https://ars.els-cdn.com/content/image/1-s2.0-S0013935120307143-gr2_lrg.jpg"></p>
<ol>
<li>
<p>Small droplets, from submicron to approximately 10 μm diameter, produced during speech and coughing, have been shown to contain viral particles, which can remain viable and infectious in aerosols for 3 h. </p>
</li>
<li>
<p>The droplets can be transmitted either directly by entering the airway through the air (aerosols), or indirectly by contact transfer via contaminated hands (fomite transmission). </p>
</li>
<li>
<p>Fomite transmission may happen via infected surfaces like doorknobs, elevator buttons, handrails, phones, switches, pens, keyboards and even via stethoscope if not disinfected before use.</p>
</li>
<li>
<p>The mode of transmission could affect whether an infection starts in the upper or lower respiratory tract, which is thought to affect the severity of the disease progression.</p>
</li>
</ol>
<p>So, Human-to-human transmission of COVID-19 occurs primarily via three routes:</p>
<ol>
<li>
<p>Large droplets that are expelled with sufficient momentum so as to directly impact the recipients’ mouth, nose or conjunctiva (Droplet transmission).</p>
</li>
<li>
<p><a href="https://onlinelibrary.wiley.com/doi/full/10.1111/ina.12682">Physical contact with droplets deposited on a surface and subsequent transfer to the recipient’s respiratory mucosa (Fomite transmission)</a>.</p>
</li>
<li>
<p>Inhalation by the recipient of aerosolized droplet nuclei from the expiratory ejecta that are
delivered by ambient air currents (Airborne transmission)</p>
</li>
</ol>
<p><a href="https://www.cbsnews.com/video/scientists-say-coronavirus-can-be-spread-farther-than-6-feet-in-tiny-airborne-particles/#x">
<center>
<img src="https://www.thailandmedical.news/uploads/editor/files/Coronavirus-Airborne.jpg" width='650"' height="400">
</center>
</a></p>
<p>Each stage in the transmission process is mediated by complex flow phenomena, ranging from air–mucous interaction, liquid sheet fragmentation, turbulent jets, and droplet evaporation and deposition, to flow-induced particle dispersion and sedimentation. Thus, flow physics is central to the transmission of COVID-19. Furthermore, given the importance of flow phenomena to the transmission process, the methods, devices and practices employed to mitigate respiratory infections are also rooted in the principles of fluid dynamics. These include simple methods such as hand washing and wearing face masks, to fogging machines, ventilation and even practices such as social distancing.</p>
<h2>Damages caused by COVID19</h2>
<p>There are evidences emerging that COVID causes damages to <a href="https://www.medicalnewstoday.com/articles/covid-19-doctors-round-up-evidence-of-damage-outside-the-lungs#Direct-damage-to-tissues">multiple organs</a> like kidneys, liver, heart, brain and nervous system, skin and gastrointestinal tract instead of just lungs as was thought in the beginning.</p>
<ol>
<li>
<p>Patients have suffered from strokes and neurological disorders, including inflammation, psychosis and delirium, and these may persist for many months even after recovering from the disease.</p>
</li>
<li>
<p><a href="https://www.mayoclinic.org/diseases-conditions/pulmonary-fibrosis/symptoms-causes/syc-20353690">Lung fibrosis (scarring of lung tissues)</a> and <a href="https://www.webmd.com/lung/what-is-a-pulmonary-embolism">Pulmonary Embolism (blood clots in the pulmonary artery)</a> have been observed in people long after they have recovered from the disease.</p>
</li>
<li>
<p>Patients with severe symptoms may require oxygen support at home even months after their recoveries. </p>
</li>
</ol>
<p><a href="https://www.cbsnews.com/video/coronavirus-understanding-damage-covid-19-does-to-body/#x">
<center>
<img src="https://i.ytimg.com/vi/soNC8nhk6Yc/maxresdefault.jpg" width='650"' height="400">
</center>
</a></p>
<h2>Ways to avoid the transmission</h2>
<p>For detailed discussion about the measures to mitigate the spread of virus, please have a look at <a href="https://www.cambridge.org/core/journals/journal-of-fluid-mechanics/article/flow-physics-of-covid19/476E32549012B3620D2452F30F2567F1">this paper</a>.</p>
<ol>
<li>
<strong>Hand Washing:</strong> Due to polar hydrophilic and non-polar hydrophobic sides, soap molecules can easily attach to oils and lipids emulsifying the content in the process which is then washed away with water. Moreover, soap molecules also deactivate the virus by dismantling its lipid envelope. </li>
</ol>
<p><a href="https://www.youtube.com/watch?v=3SfHdSHK-g0">
<center>
<img src="https://img.youtube.com/vi/3SfHdSHK-g0/0.jpg" width='650"' height="400">
</center>
</a></p>
<ol>
<li>
<p><strong>Face masks:</strong> Face masks provide ‘inward’ protection by filtering virus-laden aerosolized particles that would otherwise be inhaled by an uninfected person, and ‘outward’ protection by trapping virus-laden droplets expelled by an infected person. The effectiveness of a simple face mask such as the surgical, N95 or homemade cloth face mask is a function of the combined effect of the filtering properties of the face-mask material, the fit of the mask on the face and the related leaks from the perimeter of the face mask.</p>
<p><em>a. Inward protection</em>: The face-mask material traps droplets and particles via the combined effects of diffusion, inertial impaction, interception and electrostatic attraction. The process of inhalation generates a low pressure in the region interior to the face mask, thereby sealing (or at least reducing) perimeter leaks. Thus, with a reasonably well-fitted face mask, inward protection depends primarily on the face-mask filter material. Studies have shown that, for a given filter, there is an intermediate particle size where filtration efficiency is minimum. Below this size, electrostatic attraction (active for masks such as N95) and diffusion dominate filtration, whereas above this size, impaction and interception are the dominant mechanisms. An increase in fibre density to enhance filtration efficiency is accompanied by an increased pressure drop across the mask (Lai, Poon &amp; Cheung 2012), which requires a greater inhalation effort by the wearer. Thus, an appropriate balance has to be achieved via proper design of the filter material.</p>
<p><em>b. Outward protection</em> : The outward protection afforded by face masks has emerged as a particularly important issue in the COVID-19 pandemic because a SARS-CoV-2 transmission may occur early in the course of infection, not only from symptomatic patients but also from asymptomatic as well as minimally symptomatic patients. While a mask can significantly reduce the velocity of the throughflow jet during expiratory events, the increased pressure in the region between the mask and the face pushes the face mask outwards, resulting in increased perimeter leakage. The leakage jets that issue from the perimeter can be turbulent and highly directed. Spasmodic expiratory events such as coughing and sneezing that generate high transient expulsion velocities will significantly diminish the outward protection effectiveness of face masks. Please have a look at <a href="https://academic.oup.com/annweh/article/57/4/493/158021">this</a> and <a href="https://www.nature.com/articles/s41598-018-35693-w">this</a> for detailed CFD simulations of flow through N95 masks and factors affecting their efficiencies. </p>
</li>
</ol>
<p><a href="https://www.youtube.com/watch?v=4xFY3aPF7E4">
<center>
<img src="https://img.youtube.com/vi/4xFY3aPF7E4/0.jpg" width='650"' height="400">
</center>
</a></p>
<ol>
<li>
<p><a href="https://www.sciencedirect.com/science/article/pii/S0021850220300744?via%3Dihub"><strong>Social Distancing</strong></a></p>
</li>
<li>
<p><a href="https://www.thelancet.com/pdfs/journals/lanres/PIIS2213-2600(20)30245-9.pdf"><strong>Proper ventilation of indoor environment</strong></a></p>
</li>
</ol>
<p><a href="https://www.cbsnews.com/video/experts-suggest-improving-ventilation-may-reduce-coronavirus-spread/">
<center>
<img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse4.mm.bing.net%2Fth%3Fid%3DOIP.R3952kFl90e32XzHH5V6cwHaD4%26pid%3DApi&amp;f=1" width='650"' height="400">
</center>
</a></p>
<ol>
<li>
<strong>Fogging: </strong> Fogging machines, relying on the dispersion of a fine mist of disinfectants in the air,  provide an effective means for disinfecting large spaces, such as hospitals, and grocery stores. Fogging machines are designed based on the flow physics of aerosolization, with their droplet size is below 10 μm facilitating extended airborne duration. 
Considering their droplet size range, they rely on the collision between aerosol droplets of disinfectent generated during fogging and droplets holding viruses supported mainly by the diffusion process.</li>
</ol>
<h3><a href="https://www.sciencedirect.com/science/article/pii/S014139102030183X">Decontamination of face masks to extend its uses</a></h3>
<h3>References</h3>
<ol>
<li>
<p><a href="https://www.wired.com/story/to-beat-covid-19-you-have-to-know-how-a-virus-moves/?fbclid=IwAR1IX3J2iWA_2zNL_ZrRjFg3vtHEBO1JW-UGlKm1_dPHwm8uafcJYdNDCsk">To Beat Covid-19, You Have to Know How A Virus Moves</a></p>
</li>
<li>
<p><a href="https://www.sciencedirect.com/science/article/pii/S0013935120307143">Transmission of COVID-19 virus by droplets and aerosols: A critical review on the unresolved dichotomy</a></p>
</li>
<li>
<p><a href="https://www.pnas.org/content/117/26/14857">Identifying airborne transmission as the dominant route for the spread of COVID-19</a></p>
</li>
<li>
<p><a href="https://indianexpress.com/article/explained/what-we-know-of-coronavirus-covid-19-symptoms-cure-treatment-6513460/">What we know of Covid-19 now: Updated symptoms, modes of transmission, immunity and complications</a></p>
</li>
<li>
<p><a href="https://www.webmd.com/lung/news/20200423/the-great-invader-how-covid-attacks-every-organ">The Great Invader: How COVID Attacks Every Organ</a></p>
</li>
<li>
<p><a href="https://www.medicalnewstoday.com/articles/covid-19-doctors-round-up-evidence-of-damage-outside-the-lungs">COVID-19: Doctors round up evidence of damage outside the lungs</a></p>
</li>
<li>
<p><a href="https://www.cbsnews.com/video/coronavirus-understanding-damage-covid-19-does-to-body/#x">Understanding the extent of damage COVID-19 does to the body</a></p>
</li>
<li>
<p><a href="https://www.sciencedirect.com/science/article/pii/S014139102030183X">Extended use of face masks during the COVID-19 pandemic - Thermal conditioning and spray-on surface disinfection</a></p>
</li>
</ol>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="markdown/" class="u-url">Writing papers and reports in markdown</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Pankaj Kumar
            </span></p>
            <p class="dateline">
            <a href="markdown/" rel="bookmark">
            <time class="published dt-published" datetime="2020-05-08T06:46:34+05:30" itemprop="datePublished" title="2020-05-08">2020-05-08</time></a>
            </p>
                <p class="commentline">
        
    <a href="markdown/#disqus_thread" data-disqus-identifier="cache/posts/markdown.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>This blog was inspired by <a href="https://peerj.com/articles/cs-112/">this PeerJ article</a> and relies heavily on the same for content.</p>
<p><strong>Note:</strong> This blog was written in Markdown.</p>
<h3>Why Markdown?</h3>
<p>There are currently 2 options for academics seeking to write technical reports/papers: MIcrosoft Word or LaTeX. From a writer's perspective, the use of What You See Is What You Get (WYSIWYG) such as Microsoft Word, WPS Office, or LIbreOffice might be convenient, because the formatting of the document is directy visible. But the complicated syntax specifications often result in problems when using different software versions and for collaborative writing. Simple conversions between file formats can be difficult or impossible. Academic writers might also face the problem of abruptive changes in the document structure; even with an insertion of a single letter. This becomes problematic while working on a large report leading to exasperation and frustation. Not only that, these are very slow and can consume large virtual memory, upto a gig sometimes.</p>
<p>It becomes problematic when you have to convert your files to different file formats for various reason. For example:</p>
<blockquote>
<ul>
<li>For submitting a journal manuscript for peer-review in DOCX, as well as a preprint version with another style in PDF.</li>
<li><strong><em>For submitting your manuscript to journals with considerably different citation styles.</em></strong></li>
<li>For publishing a book with print version in PDF and an electronic versio in EPUB.</li>
</ul>
</blockquote>
<p>On the other hand, some people work with LaTeX; particularly in the scientific community. With LaTeX, documents with high typographic quality can be produced. However, the source files are cluttered with LaTeX commands and the source text can be complicated to read. Therefore, LaTeX is not user friendly, especially for casual writers or beginners. </p>
<p>Markdown is a plain text markup language which is both lightweight and easy to read and write. It can be easily converted into common formats, such as PDF, HTML, DOCX or EPUB using Pandoc. John Gruber, the original developer of Markdown, defined the goal for Markdown as follows:</p>
<blockquote>
<p>The overriding design goal for Markdown’s formatting syntax is to make it as readable as possible. The idea is that a Markdown-formatted document should be publishable as-is, as plain text, without looking like it’s been marked up with tags or formatting instructions.</p>
</blockquote>
<p>The figure below compares formatting elements and their implementations in different markup languages (<a href="https://peerj.com/articles/cs-112/">image source</a>).</p>
<p><img alt="Markdown Comparison" src="../images/mdcompare.png" width="96%"></p>
<p>In this blog, I'll explain how to write manuscripts in plain markdown text files recognised by <code>.md</code> file extension which can be easily converted into common formats, such as PDF, HTML, DOCX or EPUB using Pandoc. Apart from that, the use of templates enable the automated generation of documents according to specific journal styles. The simple syntax of markdown facilitates document editing and collaborative writing. Reducing the work spent on manuscript formatting translates directly to time and cost savings for all stakeholders, such as writers, publishers and readers.</p>
<h3>A brief introduction to markdown syntax</h3>
<p>Special symbols are used for formatting texts.</p>
<pre class="code literal-block"><span></span><code><span class="err"># A h1 header</span>
<span class="err">## A h2 header</span>
<span class="err">### A h3 header</span>
</code></pre>


<pre class="code literal-block"><span></span><code><span class="o">*</span><span class="n">Italic</span><span class="o">*</span><span class="p">,</span> <span class="o">**</span><span class="n">bold</span><span class="o">**</span> <span class="k">and</span> <span class="o">***</span><span class="k">both</span><span class="o">***</span>

<span class="n">Paragraphs</span> <span class="k">are</span> <span class="n">separated</span> <span class="k">by</span> <span class="n">a</span> <span class="n">blank</span> <span class="n">line</span><span class="p">.</span>
</code></pre>


<p>Here is an unordered list:</p>
<pre class="code literal-block"><span></span><code><span class="err">- apple</span>
<span class="err">    - green apple</span>
<span class="err">    - red apple</span>
<span class="err">- banana</span>
<span class="err">- orange</span>
</code></pre>


<p>and it would be rendered as</p>
<blockquote>
<ul>
<li>apple<ul>
<li>green apple</li>
<li>red apple</li>
</ul>
</li>
<li>banana</li>
<li>orange</li>
</ul>
</blockquote>
<p>Here is a numbered list:</p>
<pre class="code literal-block"><span></span><code><span class="err">1. apple</span>
<span class="err">    1. green apple</span>
<span class="err">    1. red apple</span>
<span class="err">2. banana</span>
<span class="err">5. orange</span>
</code></pre>


<p>and it would be rendered as</p>
<blockquote>
<ol>
<li>apple<ol>
<li>green apple</li>
<li>red apple</li>
</ol>
</li>
<li>banana</li>
<li>orange</li>
</ol>
</blockquote>
<p>Here is a link to the my website</p>
<pre class="code literal-block"><span></span><code><span class="p">[</span><span class="n">Pankaj</span> <span class="n">Kumar</span><span class="p">](</span><span class="nl">https</span><span class="p">:</span><span class="c1">//pankajkarman.github.io/)</span>
</code></pre>


<p>and it would be rendered as </p>
<blockquote>
<p><a href="https://pankajkarman.github.io/">Pankaj Kumar</a></p>
</blockquote>
<pre class="code literal-block"><span></span><code><span class="err">~~Strikethrough text~~</span>
</code></pre>


<p>would be rendered as</p>
<blockquote>
<p><del>Strikethrough text</del></p>
</blockquote>
<pre class="code literal-block"><span></span><code><span class="k">Some</span> <span class="nb">text</span> <span class="o">~</span><span class="n">Subscript</span><span class="o">~</span>

<span class="k">Some</span> <span class="nb">text</span> <span class="o">^</span><span class="n">Superscript</span><span class="o">^</span>
</code></pre>


<h4>A list of useful links for further learning about Markdown</h4>
<ul>
<li><a href="https://pandoc.org/MANUAL.html#pandocs-markdown">Pandoc Markdown manual</a></li>
<li>
<a href="https://guides.github.com/features/mastering-markdown/">Github Flavoured Markdown</a> </li>
<li><a href="https://www.makeuseof.com/tag/printable-markdown-cheat-sheet/">Markdwon cheat sheet</a></li>
</ul>
<h4>Markdown Editors</h4>
<p>While any plain text editor can work with markdown, there are some editors dedicated for markdown providing key bindings for common operations like making text bold, italic etc. Some of the open-source editors are:</p>
<ul>
<li><a href="markdown/remarkableapp.github.io">Remarkable</a></li>
<li><a href="https://github.com/retext-project/retext">ReText</a></li>
<li><a href="https://atom.io/">Atom</a></li>
</ul>
<h3>Writing reports/papers</h3>
<p><a href="https://github.com/pankajkarman/paper-template">Link for markdown paper-template.</a></p>
<p>Markdown relies on <a href="https://pandoc.org"><em>pandoc</em></a> for all conversion tasks. Please follow the steps mentioned in the above link for installation of all dependencies. Installation steps may differ depending on the operating system. Instruction mentioned in the link are pretty generic and can be easily followed on any operating system.</p>
<p><img alt="Markdown Comparison" src="../images/mdflow.png" width="75%"></p>
<p>The above figure shows the workfow for the generation of multiple document formats with Pandoc (<a href="https://peerj.com/articles/cs-112/">image source</a>). The markdown (MD) file contains the manuscript text with formatting tags, and include references to external files such as images or reference databases. The Pandoc processor converts the MD file to the desired output formats. Documents, citations etc. can be defined in style files or templates. </p>
<p>Now, I'll describe the procedure for typesetting scientific manuscripts with Pandoc, a swiss army knife for document conversion, using examples for typical document elements, such as tables, figures, formulas, code blocks and references. For more detailed discussion, please refer to the <a href="http://pandoc.org/MANUAL.html">pandoc manual</a>.</p>
<h4>Tables</h4>
<p>There are <a href="https://pandoc.org/MANUAL.html#tables">several options</a> to write tables in markdown; with pipe tables being the most flexible.  The contents of different cells are separated by pipe symbols. </p>
<pre class="code literal-block"><span></span><code><span class="p">|</span> <span class="nv">Syntax</span>      <span class="p">|</span> <span class="nv">Description</span> <span class="p">|</span> <span class="nv">Text</span>     <span class="p">|</span>
<span class="p">|</span> <span class="p">:-</span><span class="s s-Atom">---</span>        <span class="p">|</span>    <span class="p">:-</span><span class="s s-Atom">---:</span>   <span class="p">|</span>          <span class="s s-Atom">----:</span> <span class="p">|</span>
<span class="p">|</span> <span class="nv">Header</span>      <span class="p">|</span> <span class="nv">Title</span>       <span class="p">|</span> <span class="nv">Here</span><span class="err">'</span><span class="s s-Atom">s</span> <span class="s s-Atom">this</span>   <span class="p">|</span>
<span class="p">|</span> <span class="nv">Paragraph</span>   <span class="p">|</span> <span class="nv">Text</span>        <span class="p">|</span> <span class="nv">And</span> <span class="s s-Atom">more</span>      <span class="p">|</span>
</code></pre>


<p>would be rendered as </p>
<blockquote>
<table>
<thead><tr>
<th align="left">Syntax</th>
<th align="center">Description</th>
<th align="right">Text</th>
</tr></thead>
<tbody>
<tr>
<td align="left">Header</td>
<td align="center">Title</td>
<td align="right">Here's this</td>
</tr>
<tr>
<td align="left">Paragraph</td>
<td align="center">Text</td>
<td align="right">And more</td>
</tr>
</tbody>
</table>
</blockquote>
<p>On one hand, syntax for writing tables is very simple but it may very time consuming while generating bigger tables. To simplify the process of table generation, I have written a <a href="https://github.com/pankajkarman/markdown-scholar"><strong><em>python script</em></strong></a> to generate a markdown table using python. The linked github repository contains an <a href="https://github.com/pankajkarman/markdown-scholar/blob/master/table.ipynb"><strong><em>example notebook</em></strong></a> demonstrating the table generation and the same has also been shown below.</p>
<pre class="code literal-block"><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">pandoc</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'tables/surf.stn.md'</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">'\s+'</span><span class="p">)</span>
<span class="n">tab</span> <span class="o">=</span> <span class="n">pandoc</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">tab</span><span class="o">.</span><span class="n">to_markdown</span><span class="p">(</span><span class="s1">'table.md'</span><span class="p">)</span>
</code></pre>


<p>The above python script saves the generated markdown table in a file named <code>table.md</code> which contains:</p>
<pre class="code literal-block"><span></span><code><span class="err">|Stations|Latitude|Longitude|Altitude| Period  |</span>
<span class="err">|--------|-------:|--------:|-------:|---------|</span>
<span class="err">|marb    |  -64.24|   -56.62|     198|2011-2015|</span>
<span class="err">|mcmu    |  -77.82|   166.58|      11|1986-1992|</span>
<span class="err">|arht    |  -77.80|   166.67|     184|1996-2015|</span>
<span class="err">|neum    |  -70.65|    -8.25|      42|1982-2014|</span>
<span class="err">|spol    |  -89.98|   -24.80|    2810|1975-2015|</span>
<span class="err">|syow    |  -69.00|    39.58|      16|1997-2015|</span>
</code></pre>


<h4>Images</h4>
<p>An image can be inserted in markdown using:</p>
<pre class="code literal-block"><span></span><code><span class="err">!</span><span class="o">[</span><span class="n">Caption</span><span class="o">]</span><span class="p">(</span><span class="n">images</span><span class="o">/</span><span class="n">ex</span><span class="p">.</span><span class="n">png</span><span class="p">)</span><span class="err">{</span><span class="n">#figure1</span><span class="w"> </span><span class="n">width</span><span class="o">=</span><span class="mi">55</span><span class="o">%</span><span class="err">}</span><span class="w"></span>
</code></pre>


<p>Here, figure1 is an identifier for the figure defined with # along with image dimension in braces. </p>
<p>The above text would be rendered as</p>
<p><img alt="Caption" id="figure1" src="../images/pk.jpg" width="55%"></p>
<h4>Equations</h4>
<p>Equations are written in LaTeX mode using the delimiters $.</p>
<pre class="code literal-block"><span></span><code><span class="n">You</span> <span class="n">can</span> <span class="n">specify</span> <span class="n">an</span> <span class="n">inline</span> <span class="n">quation</span> <span class="k">like</span> <span class="n">LaTeX</span> <span class="err">$</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">=</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="err">$</span>

<span class="k">Or</span> <span class="n">a</span> <span class="n">block</span> <span class="k">level</span> <span class="n">equation</span> <span class="k">with</span> <span class="n">two</span> <span class="n">dollar</span> <span class="n">signs</span> <span class="k">on</span> <span class="k">both</span> <span class="n">sides</span> <span class="k">of</span> <span class="n">the</span> <span class="n">equation</span><span class="p">:</span>
<span class="err">$$\</span><span class="n">sum_</span><span class="err">{</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="err">}</span><span class="o">^</span><span class="n">n</span> <span class="n">i</span><span class="o">^</span><span class="mi">2</span> <span class="o">=</span> <span class="err">\</span><span class="n">frac</span><span class="err">{</span><span class="p">(</span><span class="n">n</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">n</span><span class="p">)(</span><span class="mi">2</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="err">}{</span><span class="mi">6</span><span class="err">}$$</span>
</code></pre>


<h4>Code blocks</h4>
<p>To write code, you indent it by 4 spaces or a tab. Markdown will guess what language you are writing</p>
<pre class="code literal-block"><span></span><code><span class="err">    def main():</span>
<span class="err">        print "Say Hello!!"</span>
</code></pre>


<p>would be rendered as</p>
<pre class="code literal-block"><span></span><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
      <span class="nb">print</span> <span class="s2">"Say Hello!!"</span>
</code></pre>


<p>You can specifiy which programming language you are using with delimited blocks if you wish</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>```python
def say_hello():
    print('Hi Everybody')
```</code></pre></div></div>

<p>and it would be rendered as</p>
<pre class="code literal-block"><span></span><code><span class="k">def</span> <span class="nf">say_hello</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Hi Everybody'</span><span class="p">)</span>
</code></pre>


<h4>Citations/References</h4>
<p>The efficient organization and typesetting of citations and bibliographies is crucial for academic writing. Pandoc supports various strategies for managing references. For processing the citations and the creation of the bibliography, the command line parameter <code>--filter pandoc-citeproc</code> is used, with variables for the reference database and the bibliography style. A separate <code>.bib</code> file must contain the database of all references with corresponding keys. The used database can be defined either in the YAML metablock of the markdown file or it can be passed as parameter when calling pandoc. Softwares like <a href="https://www.mendeley.com/"><strong><em>Mendeley</em></strong></a> and <a href="https://www.zotero.org/"><strong><em>Zotero</em></strong></a> can help in creating and maintaining reference databases. </p>
<p>A citation is inserted by using the citation key given within square brackets preceded by '@' as follows:</p>
<pre class="code literal-block"><span></span><code><span class="err">[@Solomon2016; @kuttippurath2018] </span>
</code></pre>


<p>The generated references will be inserted automatically below the header <code># References</code> or <code># Bibliography</code>.</p>
<h5>Citation style</h5>
<p>The Citation Style Language (CSL) is used for the citations and bibliographies. This file format is supported by all reference management softwares like Mendeley, Zotero etc. CSL files for a number of journals can be found at <a href="https://github.com/citation-style-language/styles">this link</a>. The bibliography style that pandoc should use for the target document can be specified in the YAML block of the Markdown document or can be passed in as a command line option. Journal reference styles can be easily changed by just changing CSL file to be used; saving lots of sweat while doing the adjustment as in MS Word.</p>
<h4>Meta information</h4>
<p>Document information such as title, authors, their affiliation, correspondence details, abstract, keywords etc. can be defined in a metadata block written in YAML syntax. Variables defined in the YAML section are processed by pandoc and integrated into the generated documents. The YAML metadata block is recognized by three hyphens (---) at the beginning, and three hyphens at the end. for example:</p>
<pre class="code literal-block"><span></span><code><span class="err">---</span>
<span class="c">title: Climate change causes increased heat waves</span>
<span class="c">subtitle: heat waves</span>
<span class="c">date: 2020-05-22</span>
<span class="err">---</span>
</code></pre>


<h4>Pandoc filters</h4>
<p>Pandoc supports lua and python based filters to aid in formatting of the documents. For example: pandoc-citeproc parses the citations included in markdown files, pandoc-crossref allows numbering and cross-referencing of figures, tables and equations across the document. Filters should be specified on the commandline with <code>--filter filterpath</code> or <code>-F filterpath</code> parameter. For example:</p>
<pre class="code literal-block"><span></span><code>pandoc -F pandoc-citeproc -F pandoc-crossref -o example.docx example.md
</code></pre>


<p>I have written one python filter for <a href="https://github.com/pankajkarman/markdown-scholar/blob/master/pandoc-include.py">inserting any external text</a> in markdown. This filter inserts the text inside the file specified using <code>!include filename.md</code>. This filter should be run separately as a python script as follows:</p>
<pre class="code literal-block"><span></span><code>python python-include.py --infile infile.md --outfile outfile.md
</code></pre>


<p>Have a look at <a href="https://pandoc.org/filters.html">this link</a> for more information regarding pandoc filters and <a href="https://github.com/jgm/pandoc/wiki/Pandoc-Filters">this link</a> for a list of available third party filters.</p>
<h4>Automatising document generation</h4>
<p>While generation of documents can be automatised using shell scripts, but I prefer to use Makefile for the same. Makefiles are similar to shell scripts with an important difference. While shell script executes the commands specified in it irrespective of the status of files, Makefile considers the status of target files specified when executing a command.</p>
<p>For example: Makefile provided in <a href="https://github.com/pankajkarman/paper-template">paper template repository</a> consists following:</p>
<pre class="code literal-block"><span></span><code><span class="nv">fig</span> <span class="o">=</span> ./figures/
<span class="nv">tab</span> <span class="o">=</span> ./tables/
<span class="nv">bib</span> <span class="o">=</span> ./ref.bib
<span class="nv">csl</span> <span class="o">=</span> ./template/nature.csl
<span class="nv">filters</span> <span class="o">=</span> ./filters
<span class="nv">template</span> <span class="o">=</span> ./template/paper.tex
<span class="nv">ref</span> <span class="o">=</span> /home/Mendeley/ref.bib

<span class="nv">upp</span> <span class="o">=</span> ./head
<span class="nv">main</span> <span class="o">=</span> ./main
<span class="nv">tem</span> <span class="o">=</span> ./doc.md

<span class="nv">lua</span> <span class="o">=</span> --lua-filter<span class="o">=</span><span class="k">$(</span>filters<span class="k">)</span>/pagebreak.lua <span class="se">\</span>
      --lua-filter<span class="o">=</span><span class="k">$(</span>filters<span class="k">)</span>/scholarly-metadata.lua <span class="se">\</span>
      --lua-filter<span class="o">=</span><span class="k">$(</span>filters<span class="k">)</span>/author-info-blocks.lua

<span class="nv">arg</span> <span class="o">=</span> -F pandoc-crossref -F pandoc-citeproc
<span class="nv">com1</span> <span class="o">=</span> cat <span class="k">$(</span>upp<span class="k">)</span>.md <span class="k">$(</span>main<span class="k">)</span>.md &gt; <span class="k">$(</span>tem<span class="k">)</span>
<span class="nv">com2</span> <span class="o">=</span> python <span class="k">$(</span>filters<span class="k">)</span>/pandoc-include.py --infile <span class="k">$(</span>tem<span class="k">)</span> --outfile <span class="k">$(</span>tem<span class="k">)</span>
<span class="nv">com3</span> <span class="o">=</span> pandoc <span class="k">$(</span>tem<span class="k">)</span> <span class="k">$(</span>arg<span class="k">)</span> --csl <span class="k">$(</span>csl<span class="k">)</span> --bibliography <span class="k">$(</span>bib<span class="k">)</span> 
<span class="nv">com</span> <span class="o">=</span> <span class="k">$(</span>com1<span class="k">)</span><span class="p">;</span> <span class="k">$(</span>com2<span class="k">)</span><span class="p">;</span> <span class="k">$(</span>com3<span class="k">)</span>

<span class="nf">all</span><span class="o">:</span>    <span class="n">pdf</span> <span class="n">docx</span>

<span class="nf">bib</span><span class="o">:</span>    <span class="k">$(</span><span class="nv">ref</span><span class="k">)</span>
    cp <span class="k">$(</span>ref<span class="k">)</span> <span class="k">$(</span>bib<span class="k">)</span>

<span class="nf">copy</span><span class="o">:</span>
    cp /home/pankaj/figures/*.pdf <span class="k">$(</span>fig<span class="k">)</span>
    cp /home/pankaj/tables/* <span class="k">$(</span>tab<span class="k">)</span>

<span class="nf">pdf</span><span class="o">:</span>    <span class="k">$(</span><span class="nv">main</span><span class="k">)</span>.<span class="n">md</span> <span class="k">$(</span><span class="nv">upp</span><span class="k">)</span>.<span class="n">md</span> <span class="k">$(</span><span class="nv">bib</span><span class="k">)</span>
    <span class="k">$(</span>com<span class="k">)</span> -s --template<span class="o">=</span><span class="k">$(</span>template<span class="k">)</span> --pdf-engine<span class="o">=</span>xelatex -o <span class="k">$(</span>main<span class="k">)</span>.pdf
    rm -rf <span class="k">$(</span>tem<span class="k">)</span>

<span class="nf">docx</span><span class="o">:</span>   <span class="k">$(</span><span class="nv">main</span><span class="k">)</span>.<span class="n">md</span> <span class="k">$(</span><span class="nv">upp</span><span class="k">)</span>.<span class="n">md</span> <span class="k">$(</span><span class="nv">bib</span><span class="k">)</span>
    <span class="k">$(</span>com<span class="k">)</span> <span class="k">$(</span>lua<span class="k">)</span> -o <span class="k">$(</span>main<span class="k">)</span>.docx
    rm -rf <span class="k">$(</span>tem<span class="k">)</span>

<span class="nf">clean</span><span class="o">:</span>  
    rm -rf *.pdf *.docx
</code></pre>


<p>Above Makefile can be modified appropriately to specify proper paths for images, tables, csl file, bibliography file (.bib), pandoc filters and templates to be used for document generation. Variable <code>upp</code> points to the header markdown file with appropriate YAML blocks to be included in generated documents. Variable <code>main</code> points to markdown file being edited (main.md in this case). </p>
<pre class="code literal-block"><span></span><code><span class="nv">arg</span> <span class="o">=</span> -F pandoc-crossref -F pandoc-citeproc
<span class="nv">com1</span> <span class="o">=</span> cat <span class="k">$(</span>upp<span class="k">)</span>.md <span class="k">$(</span>main<span class="k">)</span>.md &gt; <span class="k">$(</span>tem<span class="k">)</span>
<span class="nv">com2</span> <span class="o">=</span> python <span class="k">$(</span>filters<span class="k">)</span>/pandoc-include.py --infile <span class="k">$(</span>tem<span class="k">)</span> --outfile <span class="k">$(</span>tem<span class="k">)</span>
<span class="nv">com3</span> <span class="o">=</span> pandoc <span class="k">$(</span>tem<span class="k">)</span> <span class="k">$(</span>arg<span class="k">)</span> --csl <span class="k">$(</span>csl<span class="k">)</span> --bibliography <span class="k">$(</span>bib<span class="k">)</span> 
<span class="nv">com</span> <span class="o">=</span> <span class="k">$(</span>com1<span class="k">)</span><span class="p">;</span> <span class="k">$(</span>com2<span class="k">)</span><span class="p">;</span> <span class="k">$(</span>com3<span class="k">)</span>
</code></pre>


<p>Above lines specify the appropriate arguments to be used for pandoc commandline. Instruction to execute Makefile has been provided in the <a href="https://github.com/pankajkarman/paper-template">accompanying paper-template repository</a>. For example: <a href="https://github.com/pankajkarman/paper-template/blob/master/main.pdf">pdf output</a> can be generated using <code>make pdf</code> command. Similarly <a href="https://github.com/pankajkarman/paper-template/blob/master/main.docx">docx</a> can be generated using <code>make docx</code> command. Running command <code>make all</code> or <code>make</code> will generate both pdf and docx outputs. For generating pdf output, LaTeX should be installed on the system before executing the Makefile. Generated docx file might require a little bit of tweaking before shared/submitted.</p>
<h4>Version control</h4>
<p><a href="https://git-scm.com/">Git</a> is one of the most employed software solutions for versioning. Git allows the parallel work of collaborators, and has an efficient merging and conflict resolution system. A Git repository may be used by a single local author to keep track of changes, or by a team with a remote repository; for example, on <a href="https://github.com/">Github</a> or <a href="https://bitbucket.org/">Bitbucket</a>. Because of the plain text format of markdown, Git can be used for version control and distributed writing. Follow <a href="https://towardsdatascience.com/a-quick-primer-to-version-control-using-git-3fbdbb123262">this link</a> for learning how to use git.</p>
<h3>Furthur Resources</h3>
<ul>
<li><a href="https://github.com/pandoc-scholar/pandoc-scholar">pandoc-scholar</a></li>
<li><a href="https://github.com/robert-winkler/scientific-articles-markdown">Writing scientific articles using markdown</a></li>
<li><a href="https://github.com/pandoc/lua-filters">Collection of lua-filters for pandoc</a></li>
<li><a href="https://www.atlassian.com/git/tutorials/what-is-git">Learn Git</a></li>
</ul>
</div>
    </div>
    </article>
</div>



        
       <script>var disqus_shortname="pankajkarman";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer"><div class="text-center">
<p>
<span class="fa-stack fa-2x">
<a href="https://github.com/pankajkarman">
    <i class="fa fa-circle fa-stack-2x"></i>
    <i class="fa fa-github fa-inverse fa-stack-1x"></i>
</a>
</span>
<span class="fa-stack fa-2x">
  <a href="https://www.linkedin.com/in/pankaj-kumar-0a411013/">
    <i class="fa fa-square fa-stack-2x"></i>
    <i class="fa fa-linkedin fa-inverse fa-stack-1x"></i>
  </a>
</span>
<span class="fa-stack fa-2x">
  <a href="https://scholar.google.com/citations?user=Xg0YAlQAAAAJ&amp;hl">
     <i class="ai ai-google-scholar-square ai-2x"></i>
  </a>
</span>

<span class="fa-stack fa-2x">
  <a href="https://www.researchgate.net/profile/Pankaj_Kumar26?ev=hdr_xprf">
     <i class="ai ai-researchgate-square ai-2x"></i>
  </a>
</span>
<span class="fa-stack fa-2x">
  <a href="https://twitter.com/scientistno2">
    <i class="fa fa-twitter-square fa-stack-2x"></i>
  </a>
</span>
<span class="fa-stack fa-2x">
  <a href="mailto:pankaj.kmr1990@gmail.com">
    <i class="fa fa-square fa-stack-2x"></i>
    <i class="fa fa-envelope fa-inverse fa-stack-1x"></i>
  </a>
</span>
</p>
<p>
  Contents © 2020  Pankaj Kumar
</p>
</div>

            
            
        </footer>
</div>
</div>


        <script src="../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
